/*Source: custom-menu-wizard.js
 *Compiled: 2014-07-24, Google Closure Compiler...
 *STATISTICS
 * - originalSize: 61383
 * - originalGzipSize: 15232
 * - compressedSize: 22368
 * - compressedGzipSize: 7100
*/
jQuery(function(f){var z,y=function(a,b){return(b?".":"")+"widget-custom-menu-wizard-"+a},D=function(a){var b=f(this).data().cmwDialogVersion.replace(/\./g,""),b=/^\d+$/.test(b)?"v"+b:b;z[b]?z[b].update(a?a.target:this):z.update(a?a.target:this)},E=function(a,b,d){var c="tick"===d?b._items_sep:b._exclude_sep,g=[],l="tick"===d?"_items":"_exclude",l=b[l]?f.grep(b[l].split(c),function(b){return/\+$/.test(b)?(g.push(parseInt(b,10)),!b):!!b}):[],l=c+l.join(c)+c,g=c+g.join(c)+c;a=a.each(function(){var b=
f(this),a=b.data(),s=-1<g.indexOf(c+a.itemid+c),a=s||-1<l.indexOf(c+a.itemid+c);b.toggleClass("cmw-has-"+d,a).toggleClass("cmw-inherit-"+d,s)});return a.filter(".cmw-inherit-"+d).find("li").removeClass("cmw-has-"+d+" cmw-inherit-"+d).add(a.filter(".cmw-has-"+d))},B=function(a,b){return(a?a:b)[a?"find":"closest"](y("onchange",1))},H=function(a){var b={},d="2.1.0"===a.data("cmwDialogVersion"),c={items:1,exclude:1},g=f.extend({branch_start:1,exclude_level:1},c);f.each(a.find(":input").serializeArray(),
function(l,e){var k=e.name.replace(/.*\[([^\]]+)\]$/,"$1"),s=!g[k]&&/^-?\d+$/.test(e.value)?parseInt(e.value,10):e.value;b[k]=s;"hide_empty"===k?b[k]=!!a.data().cmwV36plus||s:c[k]&&(b["_"+k+"_sep"]=!s||/(^\d+\+?$|,)/.test(f.trim(s))?",":" ",s=f.map(s.split(/[,\s]+/),function(b){var a=!d&&/\+$/.test(b);b=b?parseInt(b,10):0;return isNaN(b)||1>b?null:a?b+"+":b}),b["_"+k]=s.join(b["_"+k+"_sep"]))});return b},I=function(a,b){var d=a.find(".cmw-demo-themenu-ul"),c=d.find(".picked"),g="",l=b.hide_title?
"":b.title,e=0,k=a.find(".cmw-demo-theoutput-wrap").empty(),s=["menu-widget"],u={};if(c.length&&k.length){(l=d.find(".title-from-item").children(".cmw-item").text()||"")||b.hide_title||(l=b.title||"");for(c.each(function(a){var c=f(this),d=c.data(),l=d.trace?d.trace.toString().split(","):[];a=d.itemid.toString();var k=1,c=c.children(".cmw-item");if(!b.flat_output)for(u[a]=1,a=0;a<l.length;a++)u[l[a]]&&k++;if(e)if(k>e)g+=b.ol_sub?"<ol>":"<ul>";else{for(;e>k;)--e,g+="</li>"+(b.ol_sub?"</ol>":"</ul>");
g+="</li>"}g+='<li class="cmw-level-'+k+(d.included||"")+'"><a href="#'+c.data("indx")+'">'+c.text()+"</a>";e=k});1<e;)--e,g+="</li>"+(b.ol_sub?"</ol>":"</ul>");g+="</li>";s.push(a.find(".cmw-demo-fallback").data("fellback"));g=(b.ol_root?"<ol":"<ul")+' class="'+f.trim(s.join(" "))+'">'+g+(b.ol_root?"</ol>":"</ul>");k.html(g);k.find("li").filter(function(){return!!f(this).children("ul, ol").length}).addClass("cmw-has-submenu")}k.length&&l&&(c.length||!b.hide_empty)&&k.prepend("<h3>"+l+"</h3>")},J=
function(a,b,d){var c;a.find("optgroup").filter(function(){var b=f(this).data().cmwOptgroupIndex===d;b||f(this).remove();return b}).length||(c=f("#"+a.attr("id")+"_ignore").find("optgroup").eq(d).clone(),c.length&&(0<b&&(b=0),a.append(c).val(b)));return b},K=function(a){a=f(this);var b=a.data(),d=!b.cmwAbsolute,c=a.closest(".ui-dialog"),g=c.find(".ui-dialog-content"),l=parseInt(c.css("top"),10)+(d?1:-1)*f(document).scrollTop();b.cmwAbsolute=d;b.cmwMaxHeight||(b.cmwMaxHeight=g.dialog("option","maxHeight"));
a.button("option","icons",{primary:d?"ui-icon-circle-close":"ui-icon-circle-check"});c.toggleClass("cmw-assistance-dialog-fixed",!d);g.dialog("option",{maxHeight:d?!d:b.cmwMaxHeight});c.css("top",l);return!1},L=function(a){var b=f(this);a=["current-menu-item","current-menu-parent","current-menu-ancestor"];var d=b.closest(".ui-dialog-content"),c=d.find(".cmw-demo-themenu-ul"),b=b.find("span").not("."+a[0]).parentsUntil(c,"li"),g,l=function(){this.title=this.title+" "+g.replace(" "," & ").replace(/-/g,
" ")};c.find("."+a.join(",.")).removeClass(a.join(" ")).each(function(){this.title=this.title.replace(/\s.*$/,"")});for(c=0;c<b.length;c++)g=1===c?a.join(" "):a[0],b.eq(c).children(".cmw-item").find("span").addClass(g).each(l),1<a.length&&a.shift();D.call(f(d.data().cmwOnchange).get(0));return!1},M=function(a){f(this).closest(".ui-dialog-content").find(".cmw-item").eq(this.href.split("#")[1]).not(":has(.current-menu-item)").trigger("click");this.blur();return!1},N=function(a){a=f(this);var b=a.hasClass("cmw-tick")?
"tick":"cross",d=a.parent();a=d.closest(".cmw-demo-themenu-ul");var c=d.hasClass("cmw-inherit-"+b),g=c||d.hasClass("cmw-has-"+b),l=g?f([]):d.parentsUntil(a,".cmw-inherit-"+b),e=f(d.closest(".ui-dialog-content").data().cmwOnchange).find("tick"===b?".cmw-setitems":".cmw-exclusions"),k;e.length&&(k=a.find(".cmw-has-"+b)[c||l.length?"not":"add"](d),!g||d.children("ul").length&&!a.parent().hasClass("cmw-version-210")?g&&!c&&(k=k.not(d.find(".cmw-has-"+b))):k=k.not(d),k=k.add(l.find("li").not(d)),k=k.map(function(){var a=
this===d[0]||this===l.get(0)?g:f(this).hasClass("cmw-inherit-"+b);return f(this).data().itemid+(a?"+":"")}).get().join(/(,|^\d+\+?$)/.test(f.trim(e.val())||",")?",":" "),e.val(k).trigger("change"));this.blur();return!1},O=function(a){var b={autoOpen:!1,width:Math.min(.9*f(window).width(),600),maxHeight:f(window).height()-40,modal:!1,containment:"window",create:function(){var b=f(this).closest(".ui-dialog");if(b.hasClass("cmw-assistance-dialog-fixed"))f("<button/>").addClass("cmw-dialog-fixed-absolute").button({label:a.cmwDialogFixed,
icons:{primary:"ui-icon-circle-check"}}).appendTo(b.find(".ui-dialog-titlebar")).on("click",K)},dialogClass:"cmw-assistance-dialog cmw-assistance-dialog-fixed"},d=f.map(["SetCurrent","Inclusions","Exclusions","Fallback"],function(b){return'<div class="cmw-demo-'+b.toLowerCase()+' cmw-demo-small">'+(a["cmwDialog"+b]||"")+"</div>"}),d=f("<div/>",{id:a.cmwDialogId}).addClass(y("dialog")).append(f("<div/>").addClass("cmw-demo-themenu cmw-version-"+a.cmwDialogVersion.replace(/\./g,"")).html('<em class="cmw-demo-small">'+
a.cmwDialogPrompt+"</em>")).append(f("<div/>").addClass("cmw-demo-theoutput").html('<em class="cmw-demo-small">'+a.cmwDialogOutput+'</em><em class="cmw-demo-plugin-version cmw-demo-small">v'+a.cmwDialogVersion+"</em>"+d.shift()+'<div class="cmw-demo-theoutput-wrap ui-corner-all"></div>'+d.join(""))).append(f("<div/>").addClass("cmw-demo-theshortcode").html('<code class="ui-corner-all"></code><div class="cmw-find-shortcodes"><a href="#" class="button-secondary '+y("find-shortcodes")+'" data-nonce="'+
(a.cmwDialogNonce||"")+'" title="'+a.cmwDialogShortcodes+'"><span class="spinner"></span><span>[&hellip;]</span></a></div><div class="cmw-demo-found-shortcodes cmw-demo-small ui-corner-all"></div>'));d.dialog(b);d.find(".cmw-demo-themenu").on("click",".cmw-tick,.cmw-cross",N).on("click",".cmw-item",L);d.find(".cmw-demo-theoutput").on("click","a",M);return d},F=function(a,b){a.dialog("option","title","CMW : "+(b.find(".cmw-widget-title").val()||a.data().cmwUntitled)+" ["+b.find(".cmw-select-menu").find("option:selected").text()+
"]")},G=function(a){var b=f(a.data().cmwOnchange),d=parseInt(b.find(".cmw-select-menu").val(),10),c=a.find(".cmw-demo-themenu-ul"),g=[],l=0,e="",k=function(b){return 1<b?'<a href="#" class="'+y("colexp")+' ui-icon ui-icon-triangle-1-e" style="left:-'+(2.4*(b-2)+2)+'em;">&nbsp;</a>':""};if(!c.length||c.data("menuid")!==d){for(b.find(".cmw-assist-items optgroup").find("option").each(function(b){for(var a=f(this),c=a.data().cmwLevel;c<g.length;)e+="</li></ul>"+k(g.length),g.pop();c>g.length?e+="<ul>":
(e+="</li>",g.pop());e+='<li class="level-'+c+'" data-itemid="'+this.value+'" data-level="'+c+'" data-trace="'+g.join(",")+'">';e+='<a href="#" class="cmw-cross ui-corner-all"></a>';e+='<a class="cmw-item ui-corner-all" href="#" data-indx="'+b+'"><span class="ui-corner-all" title="#'+this.value+'">'+f.trim(a.text());e+='</span></a><a href="#" class="cmw-tick ui-corner-all"></a>';g.push(this.value);c>l&&(l=c)});g.length;)e+="</li></ul>"+k(g.length),g.pop();c.remove();a.find(".cmw-demo-themenu").append(f(e).addClass("cmw-demo-themenu-ul").data({maxLevel:l,
menuid:d}))}};z={setLevels:function(a,b){if(b){var d=a.find(".cmw-branch-start"),c=d.val();d.find("optgroup").each(function(a){var c=f(this),d=c.find("option"),k=d.length,s=c.data();if(a)for(d.slice(b).remove();k<b;)++k,c.append(f("<option/>",{value:k}).text(k));else for(k=(k+1)/2,k>b&&d.each(function(a,c){Math.abs(c.value)>=b&&f(c).remove()});k<b;)c.prepend(f("<option/>",{value:-k}).text(-k+(1<k?"":" ("+s.cmwTextParent+")"))).append(f("<option/>",{value:"+"+k}).text("+"+k+(1<k?"":" ("+s.cmwTextChildren+
")"))),++k});/^\d+$/.test(c)?c>b&&d.val("1"):""!==c&&Math.abs(c)>=b&&d.val("");a.find(".cmw-ancestors,.cmw-ancestor-siblings").each(function(){var a=f(this),c=(a.find("option").length+1)/2,d=a.val(),k=Math.max(2,b);Math.abs(d)>=b&&a.val(0>d?1-b:b-1);c!==k&&a.find("optgroup").each(function(b,a){var d=f(a),g=d.data().cmwTextForOption,e;c>k&&d.find("option").slice(k-c).remove();for(e=c;e<k;e++)d.append(f("<option/>",{value:b?e:-e}).text(g.replace("%d",b?e:-e)))})});a.find(".cmw-exclude-level").each(function(){var a=
f(this),c=a.find("option"),d=(c.length-1)/3,k=a.val(),s=c.eq(2).text(),u=c.eq(3).text();for(c.slice(3*b+1).remove();d<b;)++d,a.append(f("<option/>",{value:d}).text(d)).append(f("<option/>",{value:d+"-"}).text(s.replace(/\d+/,d))).append(f("<option/>",{value:d+"+"}).text(u.replace(/\d+/,d)));parseInt(k,10)>b&&a.val("")});a.find(".cmw-level").each(function(){var a=f(this),c=a.find("option").length;a.val()>b&&a.val(1);for(a.find("option").slice(b).remove();c<b;)++c,a.append(f("<option/>",{value:c}).text(c))});
a.find(".cmw-depth,.cmw-fallback-depth").each(function(){var a=f(this),c=a.find("option").length,d=" "+a.data().cmwTextLevels;a.val()>b&&a.val(0);for(a.find("option").slice(b+1).remove();c<=b;)a.append(f("<option/>",{value:c}).text(c+d)),++c})}},setFields:function(a,b){var d=b.find(".cmw-bybranch"),c=b.find(".cmw-byitems").prop("checked"),g=c||!d.prop("checked"),l=b.find(".cmw-assist-items"),e=parseInt(l.val(),10);a.hasClass("cmw-select-menu")?(e=J(l,e,a[0].selectedIndex),this.setLevels(b,(l.find("optgroup").data()||
{}).cmwMaxLevel)):a.hasClass("cmw-level")?(g=!0,c=!g,b.find(".cmw-bylevel").prop("checked",g)):a.is(l)?(g=c=!1,d.prop("checked",!g)):a.hasClass("cmw-setitems")?(g=c=!0,b.find(".cmw-byitems").prop("checked",c)):a.hasClass("cmw-ancestors")&&"0"===a.val()?b.find(".cmw-ancestor-siblings").val("0"):a.hasClass("cmw-ancestor-siblings")&&"0"!==a.val()&&"0"===b.find(".cmw-ancestors").val()&&b.find(".cmw-ancestors").val(a.val());f.each({"-ss":c,"-ud":1>b.find(".cmw-depth").val(),"not-br":g,"not-br-ci":g||!!e,
"not-fb-pc":!{parent:1,current:1}[b.find(".cmw-fallback").val()]},function(a,c){b.find(".cmw-disableif"+a).toggleClass("cmw-colour-grey",c).find("input,select").prop("disabled",c)})},shortcode:function(a){var b={menu:a.menu},d="branch"===a.filter,c="items"===a.filter,g;a.title&&!a.hide_title&&(b.title=[a.title]);!d&&!c&&1<a.level&&(b.level=a.level);d&&(b.branch=a.branch||"current",a.branch_start&&(b.start_at=[a.branch_start]),"level"===a.start_mode&&(b.start_mode="level"));c&&(b.items=[a._items]);
0<a.depth&&(b.depth=a.depth);a.depth_rel_current&&0<a.depth&&(b.depth_rel_current=1);d&&!a.branch&&a.fallback&&(b.fallback=[a.fallback],"quit"!==a.fallback&&(a.fallback_siblings&&b.fallback.push("+siblings"),a.fallback_depth&&b.fallback.push(a.fallback_depth)));d&&a.ancestors&&(b.ancestors=a.ancestors,a.ancestor_siblings&&(b.ancestor_siblings=a.ancestor_siblings));a._exclude&&(b.exclude=[a._exclude]);a.exclude_level&&(b.exclude_level=[a.exclude_level]);c=[];a.title_from_current?c.push("current"):
a.title_from_current_root&&c.push("current-root");d&&a.title_from_branch?c.push("branch"):d&&a.title_from_branch_root&&c.push("branch-root");c.length&&(b.title_from=c);for(c in{allow_all_root:1,siblings:1,include_root:1,flat_output:1,ol_root:1,ol_sub:1})a[c]&&(b[c]=1);d={contains_current:"",container:"div",container_id:"",container_class:"",menu_class:"menu-widget",widget_class:""};for(c in d)a[c]!==d[c]&&(b[c]=[a[c]]);d={wrap_link:"before",wrap_link_text:"link_before"};for(c in d)(g=a[d[c]].toString().match(/^<(\w+)/))&&
g[1]&&(b[c]=[g[1]]);d=[];for(c in b)d.push(f.isArray(b[c])?c+'="'+b[c].join(",")+'"':c+"="+b[c]);return"[cmwizard "+d.join(" ")+"/]"},update:function(a){var b=f(a);a=B(0,b);var d=f("#"+a.data().cmwDialogId),c=-1,g=9999,l=0,e=0,k="",s,u,r,v,x,m,t,h,y,A,z,w,C,q,p,n;b.hasClass("cmw-listen")&&this.setFields(b,a);m=H(a);if(d.length&&d.dialog("isOpen")){d.dialog("moveToTop");b.hasClass("cmw-select-menu")&&G(d);b="branch"===m.filter;u="items"===m.filter;s=!b&&!u;v=b&&!m.branch;t=d.find(".cmw-demo-themenu-ul");
x=t.data().maxLevel;w=t.find(".current-menu-item").closest("li");C=w.length?w.data().level:-1;h=t.find("li").removeData("included").removeClass("title-from-item");A=m.depth;z=m.depth_rel_current;y=E(h,m,"cross");u&&(h=E(h,m,"tick"));h.length&&!w.length&&(m.contains_current||v)&&(h=f([]));b&&h.length&&(q=v?w:h.filter("[data-itemid="+m.branch+"]"),q.length?(c=q.data().level||0,h=q.add(q.find("li")),r=q):h=f([]));if(s&&h.length&&1<m.level){p=1;for(n=[];p<m.level;p++)n.push(".level-"+p);h=h.not(n.join(","))}"primary"===
m.contains_current&&h.length&&!w.is(h)&&(h=f([]));if(s&&h.length&&A&&(p=z&&C>=m.level?C:m.level,p+=A,p<=x)){for(n=[];p<=x;p++)n.push(".level-"+p);h=h.not(n.join(","))}if(b&&h.length&&(n=parseInt(m.branch_start,10),n=isNaN(n)||!n?c:m.branch_start.match(/^(\+|-)/)?Math.max(1,c+n):n,v&&m.fallback&&!w.find("li").length&&(k="cmw-fellback-to-"+m.fallback,"quit"===m.fallback?n=x+1:(n="current"===m.fallback||2>c?c:c-1,m.fallback_depth&&(A=m.fallback_depth,z=1))),n>x?h=f([]):(n<c&&(q=q.parentsUntil(t,"li.level-"+
n)),"level"===m.start_mode&&n<=c&&(1<n||m.allow_all_root)?h=q.parent().find("li"):n<c&&(h=q.add(q.find("li"))),k&&m.fallback_siblings&&h.length&&(1<n||m.allow_all_root)&&(h=h.add(q.siblings("li.level-"+n)))),h.length)){c=n;q=9999;A&&(q=z&&C>=c&&h.filter(w).length?C:c,q+=A,g=q-1);p=1;for(n=[];p<=x;p++)p>=c&&p<q&&n.push(".level-"+p);h=h.filter(n.join(","))}"secondary"===m.contains_current&&h.length&&!w.is(h)&&(h=f([]));if(b&&h.length){n=r.data().level;if(m.ancestors&&(r.is(h)||n>g)){p=m.ancestors;0>
p&&(p=Math.max(1,n+p));c=m.ancestor_siblings;0>c&&(c=Math.max(1,n+c));n=[];for(q=[];p<=x;p++)p<=g&&(n.push(".level-"+p),0<c&&p>=c&&q.push(".level-"+p));p=h.length;n=r.parentsUntil(t,n.join(","));h=h.add(n.not(h).data("included"," cmw-an-included-ancestor"));q.length&&(h=h.add(n.filter(q.join(",")).siblings("li").not(h).data("included"," cmw-an-included-ancestor-sibling")));l+=h.length-p}m.siblings&&r.is(h)&&(n=h.length,h=h.add(r.siblings("li").data("included"," cmw-an-included-sibling")),l+=h.length-
n)}h.length&&m.include_root&&(n=h.length,h=h.add(t.find(".level-1")),l+=h.length-n);"inclusions"===m.contains_current&&h.length&&!w.is(h)&&(h=f([]));h.length&&y.length&&(n=h.length,h=h.not(y),e+=n-h.length);if(h.length&&m.exclude_level&&(q=(q=m.exclude_level.match(/^(\d+)(\+|-)?$/))?[parseInt(q[1],10),q[2]||""]:[],0<q[0])){n=[];for(p=1;p<=x;p++)(p===q[0]||"-"===q[1]&&p<q[0]||"+"===q[1]&&p>q[0])&&n.push(".level-"+p);n.length&&(q=h.length,h=h.not(n.join(",")),e+=q-h.length)}"output"===m.contains_current&&
h.length&&!w.is(h)&&(h=f([]));m.title_from_current&&w.length?w.addClass("title-from-item"):m.title_from_current_root&&w.length?w.closest(".level-1").addClass("title-from-item"):b&&r&&(m.title_from_branch?r.addClass("title-from-item"):m.title_from_branch_root&&r.closest(".level-1").addClass("title-from-item"));d.find(".cmw-demo-fallback").data("fellback",k).toggleClass("updated",!!k);d.find(".cmw-demo-setcurrent").toggleClass("error",!w.length&&(m.contains_current||v));p={inclusions:l,exclusions:e};
for(n in p)q=d.find(".cmw-demo-"+n),q.text(q.text().replace(/\d+$/,p[n])).toggleClass("updated",0<p[n]);t.toggleClass("cmw-demo-filteritems",u).find(".picked").not(h.addClass("picked")).removeClass("picked");F(d,a);I(d,m)}a.add(d).find("code").text(this.shortcode(m))},v210:{setLevels:function(a,b){var d=a.find(".cmw-start-level"),c=d.val(),g=d.find("option").length,l;c>b&&d.val(1);for(d.find("option").slice(b).remove();g<b;)++g,d.append(f("<option/>",{value:g}).text(g));d=a.find(".cmw-depth");c=d.val();
g=d.find("option").length;l=" "+d.data().cmwTextLevels;c>b&&d.val(0);for(d.find("option").slice(b+1).remove();g<=b;)d.append(f("<option/>",{value:g}).text(g+l)),++g},setFields:function(a,b){var d=b.find(".cmw-showall").prop("checked"),c=b.find(".cmw-showspecific").prop("checked"),g=b.find(".cmw-assist-items"),l=parseInt(g.val(),10);a.hasClass("cmw-select-menu")&&(l=J(g,l,a[0].selectedIndex),this.setLevels(b,(g.find("optgroup").data()||{}).cmwMaxLevel));f.each({"":d||c,"-ss":c,"not-rp":d||c||0<=l,
"not-ci":d||c||!!l},function(a,c){b.find(".cmw-disableif"+a).toggleClass("cmw-colour-grey",c).find("input,select").prop("disabled",c)})},shortcode:function(a){var b={menu:a.menu},d=0<a.filter,c=!!a.filter&&!d,g;a.title&&(b.title=[a.title]);if(d)switch(a.filter_item){case 0:b.children_of=["current"];break;case -1:b.children_of=["parent"];break;case -2:b.children_of=["root"];break;default:b.children_of=a.filter_item}c&&(b.items=[a._items]);d&&0>a.filter_item&&a.fallback_no_ancestor&&(b.fallback_parent=
a.fallback_include_parent_siblings?["siblings"]:a.fallback_include_parent?["parent"]:1);d&&!a.filter_item&&a.fallback_no_children&&(b.fallback_current=a.fallback_nc_include_parent_siblings?["siblings"]:a.fallback_nc_include_parent?["parent"]:1);1<a.start_level&&(b.start_level=a.start_level);0<a.depth&&(b.depth=a.depth);a.depth_rel_current&&0<a.depth&&(b.depth_rel_current=1);c=[];d&&(a.include_parent_siblings?c.push("siblings"):a.include_parent&&c.push("parent"),a.include_ancestors&&c.push("ancestors"),
c.length&&(b.include=c));c=[];d&&a.title_from_parent&&c.push("parent");a.title_from_current&&c.push("current");c.length&&(b.title_from=c);for(c in{flat_output:1,contains_current:1,ol_root:1,ol_sub:1})a[c]&&(b[c]=1);d={container:"div",container_id:"",container_class:"",menu_class:"menu-widget",widget_class:""};for(c in d)a[c]!==d[c]&&(b[c]=[a[c]]);d={wrap_link:"before",wrap_link_text:"link_before"};for(c in d)(g=a[d[c]].toString().match(/^<(\w+)/))&&g[1]&&(b[c]=[g[1]]);d=[];for(c in b)d.push(f.isArray(b[c])?
c+'="'+b[c].join(" ")+'"':c+"="+b[c]);return"[custom_menu_wizard "+d.join(" ")+"]"},update:function(a){var b=f(a);a=B(0,b);var d=f("#"+a.data().cmwDialogId),c,g,l,e,k,s,u,r,v,x,m,t,h;b.hasClass("cmw-listen")&&this.setFields(b,a);if(d.length&&d.dialog("isOpen")){d.dialog("moveToTop");b.hasClass("cmw-select-menu")&&G(d);e=H(a);c=!e.filter;b=0<e.filter;g=!c&&!b;k=e.include_parent;s=e.include_parent_siblings;u=d.find(".cmw-demo-themenu-ul");l=u.data().maxLevel;v=u.find(".current-menu-item").closest("li");
x=v.length?v.data().level:-1;r=u.find("li").removeData("included").removeClass("title-from-item");g&&(r=E(r,e,"tick"));r.length&&!v.length&&(e.contains_current||b&&1>e.filter_item)&&(r=f([]));r.length&&b&&(0<e.filter_item?t=r.filter("[data-itemid="+e.filter_item+"]"):e.filter_item?1===x&&e.fallback_no_ancestor?(t=v,k=k||e.fallback_include_parent,s=s||e.fallback_include_parent_siblings,m="cmw-fellback-to-current"):t=1===x?u:-1>e.filter_item?u.find(".current-menu-ancestor").eq(0).closest("li"):u.find(".current-menu-parent").closest("li"):
v.find("li").length?t=v:e.fallback_no_children&&(t=u.find(".current-menu-parent").closest("li"),t.length||(t=u),k=k||e.fallback_nc_include_parent,s=s||e.fallback_nc_include_parent_siblings,m="cmw-fellback-to-parent"));if(r.length)if(c)for(h=e.depth_rel_current&&e.depth&&v.length&&x>=e.start_level?x+e.depth-1:e.depth?e.start_level+e.depth-1:9999,c=1;c<=l;c++){if(c<e.start_level||c>h)r=r.not(".level-"+c)}else t&&t.length?(h=e.depth_rel_current&&e.depth&&v.length&&t.has(v[0]).length?x-1+e.depth:e.depth?
Math.max((t.data().level||0)+e.depth,e.start_level+e.depth-1):9999,r=t.find("li").filter(function(){var a=f(this).data().level;return a>=e.start_level&&a<=h})):b&&(r=f([]));r.length&&b&&t&&t.is("li")&&(s&&(r=r.add(t.siblings("li").data("included"," cmw-an-included-parent-sibling")),k=!0),e.include_ancestors&&(r=r.add(t.parentsUntil(u,"li").data("included"," cmw-an-included-ancestor")),k=!0),k&&(r=r.add(t.data("included"," cmw-the-included-parent"))));!r.length||!e.contains_current||v.length&&r.filter(v).length||
(r=f([]));e.title_from_parent&&r.length&&t&&t.is("li")?t.addClass("title-from-item"):e.title_from_current&&r.length&&v.addClass("title-from-item");m=r.length?m:"";d.find(".cmw-demo-fallback").data("fellback",m).toggleClass("updated",!!m);d.find(".cmw-demo-setcurrent").toggleClass("error",!v.length&&(e.contains_current||b&&1>e.filter_item));u.toggleClass("cmw-demo-filteritems",g).find(".picked").not(r.addClass("picked")).removeClass("picked");F(d,a);I(d,e);d.find("code").text(this.shortcode(e))}}}};
f(document).on("change",y("onchange",1),D).on("click",y("assist",1),function(a){a=f(this);a=B(0,a);var b=a.data(),d=f("#"+b.cmwDialogId);d.length||(d=O(b).data({cmwOnchange:"#"+a.attr("id"),cmwUntitled:"["+b.cmwDialogUntitled+"]"}));d.dialog("isOpen")?d.dialog("close"):(G(d),F(d,a),d.dialog("open"),D.call(a[0]));this.blur();return!1}).on("click",y("fieldset",1),function(a){a=f(this);var b=a.next(".cmw-fieldset-state"),d=!b.prop("checked");b.length&&(b.prop("checked",d),a.toggleClass("cmw-collapsed-fieldset",
d),b.next("div")[d?"slideUp":"slideDown"]());this.blur();return!1}).on("click",".widget-action,.widget-control-close",function(a){a=f(this).closest("div.widget");var b=a.parent();b.hasClass("customize-control-widget_form")&&!b.hasClass("expanded")||B(a).each(function(){var a=f("#"+f(this).data().cmwDialogId);a.length&&a.dialog("isOpen")&&a.dialog("close")})}).on("click",".widget-control-remove",function(a){B(f(this).closest("div.widget")).each(function(){var a=f("#"+f(this).data().cmwDialogId);a.length&&
(a.dialog("destroy"),a.remove())})}).on("click",y("colexp",1),function(a){a=/1-e/.test(this.className)?"slideUp":"slideDown";f(this).toggleClass("ui-icon-triangle-1-s ui-icon-triangle-1-e").prev("ul")[a]();return!1}).on("click",y("find-shortcodes",1),function(a){a=f(this);var b=a.parent().parent();ajaxurl&&!b.hasClass("cmw-ajax-fetching")&&(b.hasClass("cmw-ajax-showing")?b.removeClass("cmw-ajax-showing"):(b.addClass("cmw-ajax-fetching"),f.post(ajaxurl,{action:"cmw-find-shortcodes",_wpnonce:a.data().nonce}).done(function(a){a&&
"0"!==a&&(b.find(".cmw-demo-found-shortcodes").html(f(a).find("response_data").text()),b.addClass("cmw-ajax-showing"))}).always(function(a){b.removeClass("cmw-ajax-fetching")})));this.blur();return!1}).on("click",y("legacy-close",1),function(){f(this).parent().remove();return!1})});